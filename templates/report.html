<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Site Report</title>
  </head>
  <body>
    <h1>Site Report</h1>

    <h2>General</h2>

    <p>Site Name: {{ info.general.sitename }}</p>
    <p>Image Files: {{ info.general.file_images }}</p>
    <p>Document Files: {{ info.general.file_documents }}</p>
    <p>Total Nodes: {{ info.general.total_nodes }}</p>
    <p>File Nodes: {{ info.general.file_nodes }}</p>

    <h2>Nodes</h2>
    {% for nodetype in info.nodes %}
        <p>{{ nodetype.type }}</p>
        {% for node in nodetype.nodes %}
            <p>{{ node.title }} - {{ node.nid }} - {{ node.path }}</p>
            {% for layout in node.layouts %}
                <p>{{ layout.name }}</p>
                {% for bean in layout.beans %}
                    <p>{{ bean.type }} - {{ bean.bid }}</p>
                {% endfor %}
            {% endfor %}
        {% endfor %}
    {% endfor %}

    <h2>Users</h2>

    {% for u in info.users %}
        <p>{{ u.name }}</p>
        {% for r in u.roles %}
            <p>{{ r.name }}</p>
        {% endfor %}
    {% endfor %}

    <h2>Taxonomies</h2>

    {% for v in info.taxonomies %}
        <p>{{ v.tag }} - {{ v.terms|length }}</p>
        {% for t in v.terms %}
            <p>{{ t.name }}</p>
        {% endfor %}
    {% endfor %}

    <h2>Context</h2>
    {% for context in info.context %}
        <p>{{ context.name }} - {{ context.description }}</p>
    {% endfor %}


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>